"""
SQLAgent是一个具备“规划、执行、自我反省”的智能体，它的目标是：基于InfoAgent给出的结构信息和用户query，构造准确有效的SQL，并确保执行成功。本质是一个交互式规划执行循环：
- 初始尝试生成SQL
- 若失败，分析错误 → 信息补全 → 重新生成
- 若成功但结果为空 → 判断语义问题 → 可能再修正
- 最终返回可解释的 SQL 与结果

有下面的几个能力：
1.  用户Query解析（自然语言理解）：将用户的自然语言转化为SQL的语义草图（如：涉及的实体、字段、筛选条件等）。
2.  表字段匹配与映射（依赖InfoAgent）：将Query中提取的关键词、字段、概念，与InfoAgent返回的结构信息对齐。
3. 将映射后的实体、字段组合为合法的SQL语句
4. 将SQL语句发送给数据库执行，返回执行结果或错误信息。反馈给 InfoAgent
5. 空结果检测

用户Query → Query解析器
         ↓
      SQL生成器 ← InfoAgent输出
         ↓
      SQL执行器 → 执行数据库 ←【错误反馈】→ 错误解释器 → InfoAgent
         ↓
 结果验证器（空检查、语义合理性）
         ↓
     最终SQL + 结果输出

"""